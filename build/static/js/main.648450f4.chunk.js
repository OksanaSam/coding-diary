(this["webpackJsonpcoding-diary"]=this["webpackJsonpcoding-diary"]||[]).push([[0],{104:function(e,t,a){e.exports=a(193)},193:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(15),o=a.n(r),c=(a(72),a(13)),i=(a(109),a(10)),u=a.n(i),s=(a(110),{apiKey:"AIzaSyAUgQEbOBcqZdf_L0Sgm9DQyINiHuEqIVE",authDomain:"coding-diary-d8ded.firebaseapp.com",databaseURL:"https://coding-diary-d8ded.firebaseio.com",projectId:"coding-diary-d8ded",storageBucket:"coding-diary-d8ded.appspot.com",messagingSenderId:"309101571735",appId:"1:309101571735:web:1d74e9b8c9dd4e4e4f43d2"});!function(){if(!u.a.apps.length)u.a.initializeApp(s)}();a(113);var m=a(90),d=a(14),f=a.n(d),p=a(23),E=a(33),g=a(38),h=a(70);var b=function(e){var t=Object(n.useState)(""),a=Object(c.a)(t,2),r=a[0],o=a[1],i=Object(n.useState)(e.item.log.entries),s=Object(c.a)(i,2),m=s[0],d=s[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(E.a,{show:e.show,onHide:e.handleClose},l.a.createElement(E.a.Header,null,l.a.createElement(E.a.Title,null,"Edit")),l.a.createElement(E.a.Body,null,l.a.createElement(g.a,null,l.a.createElement(g.a.Group,{controlId:"edit"},l.a.createElement(g.a.Label,null,"Delete entries or add new ones"),l.a.createElement(g.a.Control,{type:"text",placeholder:"Add entries",value:r,onChange:function(e){return o(e.target.value)},required:!0,onKeyDown:function(e){"Enter"===e.key&&(r?(d([].concat(Object(p.a)(m),[{text:r}])),e.preventDefault(),o("")):(e.preventDefault(),f.a.fire({title:"Hm...",text:"Please enter your text",confirmButtonText:"Ok"})))}})),m?l.a.createElement("ul",{className:"entries"},m.map((function(e,t){return l.a.createElement("li",{key:m.indexOf(e)},l.a.createElement("button",{onClick:function(){return function(e){var t=Object(p.a)(m);t.splice(e,1),d(t)}(t)}},"X"),e.text)}))):null)),l.a.createElement(E.a.Footer,null,l.a.createElement(h.a,{style:{backgroundColor:"#25c93f"},onClick:function(t){t.preventDefault();var a=u.a.database().ref("users/".concat(e.user));a.once("value",(function(t){var n=t.val();console.log(n[e.uniqueId].entries),n[e.uniqueId].entries&&a.child(e.uniqueId).update({entries:m})})),e.handleClose()}},"Save Changes"),l.a.createElement(h.a,{style:{backgroundColor:"#ff5f55"},onClick:e.handleClose},"Cancel"))))},v=a(91),O=a.n(v),k=a(93),y=a.n(k),S=a(94),w=a(51);var x=function(e){var t=Object(n.useState)(!1),a=Object(c.a)(t,2),r=a[0],o=a[1];return l.a.createElement("div",{className:"card"},l.a.createElement(b,{handleClose:function(){o(!1)},show:r,item:e.item,user:e.user,uniqueId:e.item.uniqueId}),l.a.createElement("div",{className:"cardButtons"},l.a.createElement("button",{className:"editButton",onClick:function(){return e.item.uniqueId,void(e.user?o(!0):f.a.fire({title:"Oops...",text:"Please sign in",confirmButtonText:"Ok"}))},"data-tip":!0,"data-for":"edit"},l.a.createElement(O.a,null),l.a.createElement(w.a,{id:"edit"},l.a.createElement("span",null,"Edit entry"))),l.a.createElement("p",{"data-tip":!0,"data-for":"date"},e.item.log.entryDate?e.item.log.entryDate:null),l.a.createElement(w.a,{id:"date"},l.a.createElement("span",null,"Date cannot be edited")),l.a.createElement("button",{className:"deleteButton",onClick:function(){return t=e.item.uniqueId,void(e.user?u.a.database().ref("users/".concat(e.user)).child(t).remove():f.a.fire({title:"Oops...",text:"Please sign in",confirmButtonText:"Ok"}));var t},"data-tip":!0,"data-for":"delete"},l.a.createElement(y.a,null),l.a.createElement(w.a,{id:"delete"},l.a.createElement("span",null,"Delete entry")))),e.item.log.tags?l.a.createElement("ul",{className:"tags"},e.item.log.tags.map((function(t){return l.a.createElement("li",{key:e.item.log.tags.indexOf(t)},t)}))):null,e.item.log.entries?l.a.createElement("ul",{className:"entries"},e.item.log.entries.map((function(t){return l.a.createElement("li",{key:e.item.log.entries.indexOf(t)},l.a.createElement("span",null,l.a.createElement(S.a,null)),t.text)}))):null)};var I=function(e){return l.a.createElement(l.a.Fragment,null,e.items?l.a.createElement("ul",null,e.items.map((function(t){return l.a.createElement("li",{key:t.uniqueId},l.a.createElement(x,{item:t,user:e.user}))}))):l.a.createElement("p",null,"No entries yet..."))},N=a(67),j=a.n(N),C=a(95),B=a(99),A=a.n(B),T=a(96),P=a.n(T),D=(a(121),a(195));var q=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("label",{htmlFor:"tool"},l.a.createElement("select",{name:"tool",id:"tool",value:e.selectedOptions,onChange:function(t){e.selectedOptions.length>5?f.a.fire({title:"Hm...",text:"You can't add more than 5 tags.",confirmButtonText:"Ok"}):e.selectedOptions.includes(t.target.value)?f.a.fire({title:"Hm...",text:"You have already added this tag!",confirmButtonText:"Ok"}):(e.setSelectedOptions([].concat(Object(p.a)(e.selectedOptions),[t.target.value])),localStorage.setItem("data",JSON.stringify(e.selectedOptions)))}},[{name:"Tags\u2026",value:""},{name:"JavaScript",value:"JavaScript"},{name:"React",value:"React"},{name:"Vanilla",value:"Vanilla"},{name:"Other",value:"Other"}].map((function(e){return l.a.createElement("option",{key:e.value,selected:null===e.value?"selected":null,value:e.value,disabled:null===e.value||null},e.name)})))),l.a.createElement("ul",{className:"selectedOptions"},e.selectedOptions.map((function(t,a){return l.a.createElement(l.a.Fragment,null,e.selectedOptions.length>0?l.a.createElement("li",{key:e.selectedOptions.length},l.a.createElement("button",{onClick:function(){return function(t){var a=Object(p.a)(e.selectedOptions);a.splice(t,1),e.setSelectedOptions(a)}(a)}},"X"),t):null)}))))},U=function(e){var t=Object(n.useState)(new Date),a=Object(c.a)(t,2),r=a[0],o=a[1],i=Object(n.useState)(JSON.parse(localStorage.getItem("selectedTools"))||[]),s=Object(c.a)(i,2),m=s[0],d=s[1],E=Object(n.useState)(""),g=Object(c.a)(E,2),h=g[0],b=g[1],v=Object(n.useState)(JSON.parse(localStorage.getItem("items"))||[]),O=Object(c.a)(v,2),k=O[0],y=O[1];Object(n.useEffect)((function(){localStorage.setItem("selectedTools",JSON.stringify(m)),localStorage.setItem("items",JSON.stringify(k))}),[m,k]);var S=function(){var t=Object(C.a)(j.a.mark((function t(){var a,n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.user){t.next=4;break}f.a.fire({title:"Oops...",text:"Please sign in",confirmButtonText:"Ok"}),t.next=16;break;case 4:if(!(k.length<1)){t.next=8;break}f.a.fire({title:"Oops...",text:"Please add at least one entry!",confirmButtonText:"Ok"}),t.next=16;break;case 8:return t.next=10,u.a.database().ref("users/".concat(e.user));case 10:a=t.sent,n={tags:m,entries:k,entryDate:Object(D.default)(r,"do MMMM yyyy")},null===a?u.a.database().ref("users/"+e.user).set(n):a.push(n),y([]),d([]),a.on("value",(function(t){var a=t.val(),n=[];for(var l in a)n.push({log:a[l],uniqueId:l});e.handleCardsAdd(n)}));case 16:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return l.a.createElement("div",{className:"newEntry"},l.a.createElement("div",{className:"selectedDate"},l.a.createElement(P.a,{styles:{backgroundColor:"blue"},selected:r,onChange:function(e){o(e)},onSelect:function(e){o(e)}})),l.a.createElement(q,{selectedOptions:m,setSelectedOptions:d}),l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),h?(y([].concat(Object(p.a)(k),[{text:h,done:!1}])),localStorage.setItem("items",JSON.stringify(k)),b("")):f.a.fire({title:"Hm...",text:"Please enter your text",confirmButtonText:"Ok"})}},l.a.createElement("label",{htmlFor:"entry"},l.a.createElement("input",{placeholder:"Skills learned",type:"text",name:"entry",value:h,onChange:function(e){return b(e.target.value)}})),l.a.createElement("button",null,l.a.createElement(A.a,null))),l.a.createElement("p",null,r?Object(D.default)(r,"do MMMM yyyy"):null),l.a.createElement("ul",null,k.map((function(e,t){return l.a.createElement("li",{key:t},l.a.createElement("button",{onClick:function(){return function(e){var t=Object(p.a)(k);t.splice(e,1),y(t)}(t)}},"X"),l.a.createElement("span",null,e.text))}))),l.a.createElement("button",{className:"saveButton",onClick:S},"Save Entry"))},W=a(101),M=a(100),L=a.n(M),H=a(16),F=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(L.a,{style:{overlay:{position:"fixed",top:0,left:0,right:0,bottom:0},content:{background:"white",position:"absolute",top:"25%",left:"25%",right:"25%",bottom:"25%",border:"1px solid #ccc",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"10px",outline:"none",padding:"20px"}},isOpen:e.modalIsOpen,ariaHideApp:!1,onRequestClose:e.closeModal,contentLabel:"SignIn Modal"},l.a.createElement("button",{className:"closeModalButton",onClick:e.closeModal},l.a.createElement(H.j,null)),l.a.createElement("h3",null,"Sign in with Gmail, GitHub or Twitter"),l.a.createElement("div",{className:"modalButtons"},l.a.createElement("button",{className:"gmailButton",onClick:e.googleSignin},l.a.createElement(H.d,null)),l.a.createElement("button",{className:"gitHubButton",onClick:e.handleGitHubLogin},l.a.createElement(H.c,null)),l.a.createElement("button",{className:"twitterButton",onClick:e.handleTwitterLogin},l.a.createElement(H.i,null)))))};var J=function(e){var t=Object(n.useState)(!1),a=Object(c.a)(t,2),r=a[0],o=a[1],i=function(t){var a=t;u.a.auth().signInWithPopup(a).then((function(){o(!1),e.handleLogIn(!0)})).catch((function(e){f.a.fire({title:"Oops...",text:"An error ".concat(e.message," occurred"),confirmButtonText:"Ok"})}))};return l.a.createElement(l.a.Fragment,null,l.a.createElement("header",null,l.a.createElement("nav",{className:"navigation"},l.a.createElement("div",{className:"navWrapper"},l.a.createElement("div",{className:"brand"},l.a.createElement(W.a,null),l.a.createElement("p",null,"CodingDiary")),l.a.createElement("ul",{className:"menu"},l.a.createElement("li",null,null!==e.user?l.a.createElement("button",{onClick:function(){u.a.auth().signOut().then((function(){e.handleUserChange(null),e.handleLogIn(!1),e.handleUserInfo(null)}),(function(e){f.a.fire({title:"Oops...",text:"Signout failed, an error ".concat(e.message," occurred"),confirmButtonText:"Ok"})}))}},"Sign out"):l.a.createElement("button",{onClick:function(){o(!0)}},"Sign in")),e.userInfo?l.a.createElement("img",{className:"avatar",src:e.userInfo.photoUrl,alt:""}):null))),l.a.createElement(F,{modalIsOpen:r,closeModal:function(){o(!1)},googleSignin:function(){return i(new u.a.auth.GoogleAuthProvider)},handleGitHubLogin:function(){var t=new u.a.auth.GithubAuthProvider;t.addScope("public_repo"),t.addScope("read:org"),t.addScope("read:user"),u.a.auth().signInWithPopup(t).then((function(){o(!1),e.handleLogIn(!0)})).catch((function(e){f.a.fire({title:"Oops...",text:"An error ".concat(e.message," occurred"),confirmButtonText:"Ok"})}))},handleTwitterLogin:function(){return i(new u.a.auth.TwitterAuthProvider)},signInWithEmailAndPassword:e.signInWithEmailAndPassword,createUserWithEmailAndPassword:e.createUserWithEmailAndPassword})))},G=a(102);var R=function(){var e=(new Date).getFullYear();return l.a.createElement("footer",null,l.a.createElement("div",{className:"wrapper"},l.a.createElement("div",{className:"upperFooter"},l.a.createElement("span",{className:"scrollTop",onClick:function(){G.animateScroll.scrollToTop()}},l.a.createElement(H.a,null)),l.a.createElement("ul",{className:"socials"},l.a.createElement("li",null,l.a.createElement("a",{href:"https://www.linkedin.com/in/oksana-samokhvalova/",target:"_blank",rel:"noopener noreferrer"},l.a.createElement(H.e,null))),l.a.createElement("li",null,l.a.createElement("a",{href:"https://twitter.com/oksanadev/",target:"_blank",rel:"noopener noreferrer"},l.a.createElement(H.h,null))),l.a.createElement("li",null,l.a.createElement("a",{href:"https://www.oksanadev.com/",target:"_blank",rel:"noopener noreferrer"},l.a.createElement(H.b,null))),l.a.createElement("li",null,l.a.createElement("a",{href:"https://github.com/OksanaSam/",target:"_blank",rel:"noopener noreferrer"},l.a.createElement(H.c,null))))),l.a.createElement("p",{className:"copyright"},l.a.createElement(H.g,null)," ",e," oksanadev.com"," ",l.a.createElement("span",null,l.a.createElement(H.f,null)))))},_=i.auth();var V=Object(m.a)({firebaseAppAuth:_})((function(e){var t=e.createUserWithEmailAndPassword,a=e.signInWithEmailAndPassword,r=Object(n.useState)([]),o=Object(c.a)(r,2),u=o[0],s=o[1],m=Object(n.useState)(null),d=Object(c.a)(m,2),f=d[0],p=d[1],E=Object(n.useState)(!1),g=Object(c.a)(E,2),h=g[0],b=g[1],v=Object(n.useState)(null),O=Object(c.a)(v,2),k=O[0],y=O[1];return Object(n.useEffect)((function(){i.auth().onAuthStateChanged((function(e){if(null!==e){var t={email:e.email,displayName:e.displayName?e.displayName:e.email,photoUrl:e.photoURL,uid:e.uid};p(e.uid),y(t)}})),(null===f?i.database().ref("users/wdDaqkYW5yaZwQGAUf9B9JzbZVu2"):i.database().ref("users/".concat(i.auth().currentUser.uid))).on("value",(function(e){var t=e.val(),a=[];for(var n in t)a.push({log:t[n],uniqueId:n});s(a)}))}),[f,h]),l.a.createElement("div",{className:"app"},l.a.createElement(J,{handleLogIn:function(e){b(e)},handleUserChange:function(e){p(e)},user:f,signInWithEmailAndPassword:a,createUserWithEmailAndPassword:t,userInfo:k,handleUserInfo:function(e){y(e)}}),l.a.createElement("main",null,l.a.createElement("div",{className:"wrapper"},l.a.createElement(U,{handleCardsAdd:function(e){s(e)},user:f}),l.a.createElement(I,{items:u,user:f}))),l.a.createElement(R,null))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},72:function(e,t,a){}},[[104,1,2]]]);
//# sourceMappingURL=main.648450f4.chunk.js.map